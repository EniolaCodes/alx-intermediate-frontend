#!/usr/bin/env bash
# Sass Installation Script
# =======================
#
# Purpose:
# --------
# This script installs Sass (Syntactically Awesome Style Sheets) preprocessor
# using npm (Node Package Manager) as a development dependency.
#
# Prerequisites:
# -------------
# 1. Node.js and npm must be installed on your system
# 2. package.json must exist in your project directory
#    (If not, run 'npm init -y' first)
#
# Version Information:
# ------------------
# - Sass Version: 1.32.13
# - Compatibility: Node.js 12.x and above
#
# Installation Process:
# -------------------
# 1. Installs Sass as a development dependency
# 2. Adds the dependency to package.json
# 3. Verifies the installation
#
# Usage After Installation:
# -----------------------
# 1. Compile a single file:
#    npx sass input.scss output.css
#
# 2. Watch for changes:
#    npx sass --watch input.scss output.css
#
# 3. Compile with different styles:
#    npx sass input.scss output.css --style compressed
#
# Troubleshooting:
# ---------------
# If you encounter errors:
# 1. Ensure Node.js is installed: node --version
# 2. Verify npm is working: npm --version
# 3. Check if package.json exists
# 4. Try removing node_modules and running 'npm install' again
#
# Author: EniolaCodes
# Last Updated: November 3, 2025

# Print start message
echo "Starting Sass installation..."

# Check if Node.js is installed
if ! command -v node &> /dev/null; then
    echo "Error: Node.js is not installed. Please install Node.js first."
    exit 1
fi

# Check if npm is installed
if ! command -v npm &> /dev/null; then
    echo "Error: npm is not installed. Please install npm first."
    exit 1
fi

# Check if package.json exists
if [ ! -f "package.json" ]; then
    echo "Warning: package.json not found. Running npm init..."
    npm init -y
fi

# Install Sass as a dev dependency with specific version
echo "Installing Sass version 1.32.13..."
npm install sass@1.32.13 --save-dev

# Verify installation by checking Sass version
echo "Verifying installation..."
npx sass --version

# Display success message and next steps
echo "Sass has been installed successfully!"
echo ""
echo "Next steps:"
echo "1. Create a .scss file in your project"
echo "2. Compile it using: npx sass input.scss output.css"
echo "3. For development, use watch mode: npx sass --watch input.scss output.css"
echo ""
echo "For more information, visit: https://sass-lang.com/documentation"
